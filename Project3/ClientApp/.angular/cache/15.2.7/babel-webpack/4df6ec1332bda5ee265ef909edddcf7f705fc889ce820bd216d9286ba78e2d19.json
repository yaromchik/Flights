{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"./../api/services/flight.service\";\nimport * as i3 from \"@angular/common\";\nconst _c0 = function (a1) {\n  return [\"/book-flight\", a1];\n};\nexport class BookFlightsComponent {\n  constructor(route, flightService) {\n    this.route = route;\n    this.flightService = flightService;\n    this.flightId = 'not loaded';\n    this.flight = {};\n    this.findFlight = flightId => {\n      this.flightId = flightId ?? 'not passed';\n      this.flightService.findFlight({\n        id: this.flightId\n      }).subscribe(flight => this.flight = flight);\n    };\n  }\n  ngOnInit() {\n    this.route.paramMap.subscribe(p => this.findFlight(p.get(\"flightId\")));\n  }\n}\nBookFlightsComponent.ɵfac = function BookFlightsComponent_Factory(t) {\n  return new (t || BookFlightsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.FlightService));\n};\nBookFlightsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BookFlightsComponent,\n  selectors: [[\"app-book-flights\"]],\n  decls: 48,\n  vars: 22,\n  consts: [[1, \"card\", \"text-dark\", \"mt-5\", \"text-center\", 2, \"padding\", \"20px\", \"background-color\", \"#e5ecf26e\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-title\", 2, \"color\", \"green\"], [1, \"d-grid\", \"text-center\", \"g-2\"], [1, \"row\"], [1, \"col\"], [1, \"col\", \"m-3\"], [1, \"text-primary\", \"fas\", \"fa-plane-departure\", 2, \"font-size\", \"20px\"], [1, \"fa-solid\", \"fa-location-dot\"], [1, \"col\", \"m-2\"], [1, \"fa-regular\"], [1, \"fa-regular\", \"fa-clock\"], [2, \"display\", \"flex\", \"margin-top\", \"15%\"], [1, \"fa-solid\", \"fa-circle\", 2, \"margin-top\", \"3%\", \"font-size\", \"9px\"], [2, \"display\", \"block\", \"width\", \"100%\", \"margin-top\", \"3.8%\"], [1, \"fas\", \"fa-plane\", 2, \"margin-top\", \"2.1%\"], [2, \"margin-bottom\", \"2%\"], [1, \"fas\", \"fa-rub\"], [1, \"btn\", \"btn-secondary\", \"btn-lg\", \"mt-2\", 3, \"routerLink\"], [1, \"fas\", \"fa-ticket\"], [1, \"text-primary\", \"fas\", \"fa-plane-arrival\", 2, \"font-size\", \"20px\"]],\n  template: function BookFlightsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h6\", 2);\n      i0.ɵɵtext(3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 3);\n      i0.ɵɵtext(5);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"div\", 4)(7, \"div\", 5)(8, \"div\", 6)(9, \"div\", 7);\n      i0.ɵɵelement(10, \"i\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 6)(12, \"i\", 9);\n      i0.ɵɵtext(13);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"div\", 10);\n      i0.ɵɵelement(15, \"i\", 11);\n      i0.ɵɵtext(16);\n      i0.ɵɵpipe(17, \"date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 6);\n      i0.ɵɵelement(19, \"i\", 12);\n      i0.ɵɵtext(20);\n      i0.ɵɵpipe(21, \"date\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(22, \"div\", 6)(23, \"div\", 13);\n      i0.ɵɵelement(24, \"i\", 14)(25, \"hr\", 15)(26, \"i\", 16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"div\", 17)(28, \"i\", 18);\n      i0.ɵɵtext(29);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(30, \"br\");\n      i0.ɵɵelementStart(31, \"a\", 19);\n      i0.ɵɵelement(32, \"i\", 20);\n      i0.ɵɵtext(33, \" Book \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(34, \"div\", 6)(35, \"div\", 7);\n      i0.ɵɵelement(36, \"i\", 21);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"div\", 6)(38, \"i\", 9);\n      i0.ɵɵtext(39);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(40, \"div\", 10);\n      i0.ɵɵelement(41, \"i\", 11);\n      i0.ɵɵtext(42);\n      i0.ɵɵpipe(43, \"date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"div\", 6);\n      i0.ɵɵelement(45, \"i\", 12);\n      i0.ɵɵtext(46);\n      i0.ɵɵpipe(47, \"date\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.flight.airline);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" \\u041C\\u0435\\u0441\\u0442 \\u043E\\u0441\\u0442\\u0430\\u043B\\u043E\\u0441\\u044C \", ctx.flight.remainingNumberOfSeats, \" \");\n      i0.ɵɵadvance(8);\n      i0.ɵɵtextInterpolate1(\" \", ctx.flight.departure == null ? null : ctx.flight.departure.place, \" \");\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(17, 10, ctx.flight.departure == null ? null : ctx.flight.departure.time), \" \");\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(21, 12, ctx.flight.departure == null ? null : ctx.flight.departure.time, \"shortTime\"), \" \");\n      i0.ɵɵadvance(9);\n      i0.ɵɵtextInterpolate(ctx.flight.price);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(20, _c0, ctx.flight.id));\n      i0.ɵɵadvance(8);\n      i0.ɵɵtextInterpolate1(\" \", ctx.flight.arrival == null ? null : ctx.flight.arrival.place, \" \");\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(43, 15, ctx.flight.arrival == null ? null : ctx.flight.arrival.time), \" \");\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(47, 17, ctx.flight.arrival == null ? null : ctx.flight.arrival.time, \"shortTime\"), \" \");\n    }\n  },\n  dependencies: [i1.RouterLink, i3.DatePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;AAUA,OAAM,MAAOA,oBAAoB;EAE/BC,YAAoBC,KAAoB,EAAUC,aAA4B;IAA1D,UAAK,GAALD,KAAK;IAAyB,kBAAa,GAAbC,aAAa;IAE/D,aAAQ,GAAW,YAAY;IAC/B,WAAM,GAAa,EAAE;IAMb,eAAU,GAAIC,QAAuB,IAAI;MAC/C,IAAI,CAACA,QAAQ,GAAGA,QAAQ,IAAI,YAAY;MAExC,IAAI,CAACD,aAAa,CAACE,UAAU,CAAC;QAACC,EAAE,EAAC,IAAI,CAACF;MAAQ,CAAC,CAAC,CAACG,SAAS,CAACC,MAAM,IAAI,IAAI,CAACA,MAAM,GAAGA,MAAM,CAAC;IAC7F,CAAC;EAbiF;EAKlFC,QAAQ;IACN,IAAI,CAACP,KAAK,CAACQ,QAAQ,CAACH,SAAS,CAACI,CAAC,IAAI,IAAI,CAACN,UAAU,CAACM,CAAC,CAACC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC;EACxE;;AATWZ,oBAAoB;mBAApBA,oBAAoB;AAAA;AAApBA,oBAAoB;QAApBA,oBAAoB;EAAAa;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCVjCC,8BAA+F;MAEpEA,YAAkB;MAAAA,iBAAK;MAC9CA,8BAA4C;MAC1CA,YAEF;MAAAA,iBAAM;MAGRA,8BAAoC;MAK5BA,wBAA2E;MAC7EA,iBAAM;MAENA,+BAAiB;MAEbA,aACF;MAAAA,iBAAI;MAGNA,gCAAqB;MACnBA,yBAA0B;MAC1BA,aACF;;MAAAA,iBAAM;MAENA,+BAAiB;MACfA,yBAAmC;MACnCA,aACF;;MAAAA,iBAAM;MAIRA,+BAAiB;MAEbA,yBAAwE;MAI1EA,iBAAM;MAENA,gCAA8B;MACNA,aAAgB;MAAAA,iBAAI;MAC1CA,sBAAM;MACNA,8BAAoF;MAClFA,yBAA6B;MAC7BA,uBACF;MAAAA,iBAAI;MAIRA,+BAAiB;MAEbA,yBAAyE;MAC3EA,iBAAM;MAENA,+BAAiB;MAEbA,aACF;MAAAA,iBAAI;MAGNA,gCAAqB;MACnBA,yBAA0B;MAC1BA,aACF;;MAAAA,iBAAM;MAENA,+BAAiB;MACfA,yBAAmC;MACnCA,aACF;;MAAAA,iBAAM;;;MAtEaA,eAAkB;MAAlBA,wCAAkB;MAEvCA,eAEF;MAFEA,4IAEF;MAaQA,eACF;MADEA,iGACF;MAKAA,eACF;MADEA,wHACF;MAIEA,eACF;MADEA,qIACF;MAawBA,eAAgB;MAAhBA,sCAAgB;MAEnCA,eAA0C;MAA1CA,uEAA0C;MAc3CA,eACF;MADEA,6FACF;MAKAA,eACF;MADEA,oHACF;MAIEA,eACF;MADEA,iIACF","names":["BookFlightsComponent","constructor","route","flightService","flightId","findFlight","id","subscribe","flight","ngOnInit","paramMap","p","get","selectors","decls","vars","consts","template","i0"],"sourceRoot":"","sources":["C:\\Users\\r3187\\source\\repos\\Project3\\Project3\\ClientApp\\src\\app\\book-flights\\book-flights.component.ts","C:\\Users\\r3187\\source\\repos\\Project3\\Project3\\ClientApp\\src\\app\\book-flights\\book-flights.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { FlightService } from './../api/services/flight.service';\nimport { FlightRm } from '../api/models/flight-rm';\n\n@Component({\n  selector: 'app-book-flights',\n  templateUrl: './book-flights.component.html',\n  styleUrls: ['./book-flights.component.css']\n})\nexport class BookFlightsComponent implements OnInit{\n  \n  constructor(private route:ActivatedRoute, private flightService: FlightService) { }\n\n  flightId: string = 'not loaded'\n  flight: FlightRm = {}\n\n  ngOnInit(): void {\n    this.route.paramMap.subscribe(p => this.findFlight(p.get(\"flightId\")))\r\n  }\n\n  private findFlight = (flightId: string | null) => {\n    this.flightId = flightId ?? 'not passed';\r\n\r\n    this.flightService.findFlight({id:this.flightId}).subscribe(flight => this.flight = flight)\r\n  }\n}\n\n","<div class=\"card text-dark mt-5 text-center\" style=\"padding: 20px; background-color:#e5ecf26e\">\r\n  <div class=\"card-body\">\r\n    <h6 class=\"card-title\">{{flight.airline}}</h6>\r\n    <div class=\"card-title\" style=\"color:green\">\r\n      Мест осталось\r\n      {{flight.remainingNumberOfSeats}}\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"d-grid text-center g-2\">\r\n    <div class=\"row\">\r\n      <div class=\"col\">\r\n\r\n        <div class=\"col m-3\">\r\n          <i class=\"text-primary fas fa-plane-departure\" style=\"font-size:20px;\"></i>\r\n        </div>\r\n\r\n        <div class=\"col\">\r\n          <i class=\"fa-solid fa-location-dot\">\r\n            {{flight.departure?.place}}\r\n          </i>\r\n        </div>\r\n\r\n        <div class=\"col m-2\">\r\n          <i class=\"fa-regular\"></i>\r\n          {{flight.departure?.time | date}}\r\n        </div>\r\n\r\n        <div class=\"col\">\r\n          <i class=\"fa-regular fa-clock\"></i>\r\n          {{flight.departure?.time | date:'shortTime'}}\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class=\"col\">\r\n        <div style=\"display: flex; margin-top: 15%;\">\r\n          <i class=\"fa-solid fa-circle\" style=\"margin-top:3%; font-size:9px;\"></i>\r\n          <hr style=\"display: block; width: 100%; margin-top: 3.8%; \" />\r\n          <i class=\"fas fa-plane\" style=\"margin-top: 2.1%;\"></i>\r\n\r\n        </div>\r\n\r\n        <div style=\"margin-bottom:2%\">\r\n          <i class=\"fas fa-rub\">{{flight.price}}</i>\r\n          <br />\r\n          <a [routerLink]=\"['/book-flight', flight.id]\" class=\"btn btn-secondary btn-lg mt-2\">\r\n            <i class=\"fas fa-ticket\"></i>\r\n            Book\r\n          </a>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col\">\r\n        <div class=\"col m-3\">\r\n          <i class=\"text-primary fas fa-plane-arrival\" style=\"font-size:20px;\"></i>\r\n        </div>\r\n\r\n        <div class=\"col\">\r\n          <i class=\"fa-solid fa-location-dot\">\r\n            {{flight.arrival?.place}}\r\n          </i>\r\n        </div>\r\n\r\n        <div class=\"col m-2\">\r\n          <i class=\"fa-regular\"></i>\r\n          {{flight.arrival?.time | date}}\r\n        </div>\r\n\r\n        <div class=\"col\">\r\n          <i class=\"fa-regular fa-clock\"></i>\r\n          {{flight.arrival?.time | date:'shortTime'}}\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}